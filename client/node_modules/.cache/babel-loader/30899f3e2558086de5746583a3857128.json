{"ast":null,"code":"import { useState } from 'react';\n\nfunction useValidatedState(initialValue, validation) {\n  const [value, setValue] = useState(initialValue);\n  const [lastValidValue, setLastValidValue] = useState(validation(initialValue) ? initialValue : void 0);\n  const [valid, setValid] = useState(validation(initialValue));\n\n  const onChange = val => {\n    if (validation(val)) {\n      setLastValidValue(val);\n      setValid(true);\n    } else {\n      setValid(false);\n    }\n\n    setValue(val);\n  };\n\n  return [{\n    value,\n    lastValidValue,\n    valid\n  }, onChange];\n}\n\nexport { useValidatedState };","map":{"version":3,"mappings":";;AACO,SAASA,iBAAT,CAA2BC,YAA3B,EAAyCC,UAAzC,EAAqD;EAC1D,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,QAAQ,CAACJ,YAAD,CAAlC;EACA,MAAM,CAACK,cAAD,EAAiBC,iBAAjB,IAAsCF,QAAQ,CAACH,UAAU,CAACD,YAAD,CAAV,GAA2BA,YAA3B,GAA0C,KAAK,CAAhD,CAApD;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAACH,UAAU,CAACD,YAAD,CAAX,CAAlC;;EACA,MAAMS,QAAQ,GAAIC,GAAD,IAAS;IACxB,IAAIT,UAAU,CAACS,GAAD,CAAd,EAAqB;MACnBJ,iBAAiB,CAACI,GAAD,CAAjB;MACAF,QAAQ,CAAC,IAAD,CAAR;IACD,CAHD,MAGO;MACLA,QAAQ,CAAC,KAAD,CAAR;IACD;;IACDL,QAAQ,CAACO,GAAD,CAAR;EACD,CARD;;EASA,OAAO,CAAC;IAAER,KAAF;IAASG,cAAT;IAAyBE;EAAzB,CAAD,EAAmCE,QAAnC,CAAP;AACF","names":["useValidatedState","initialValue","validation","value","setValue","useState","lastValidValue","setLastValidValue","valid","setValid","onChange","val"],"sources":["/Users/seancoleman/Projects/kanji/node_modules/@mantine/hooks/src/use-validated-state/use-validated-state.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport function useValidatedState<T>(initialValue: T, validation: (value: T) => boolean) {\n  const [value, setValue] = useState<T>(initialValue);\n  const [lastValidValue, setLastValidValue] = useState<T>(\n    validation(initialValue) ? initialValue : undefined\n  );\n  const [valid, setValid] = useState<boolean>(validation(initialValue));\n\n  const onChange = (val: T) => {\n    if (validation(val)) {\n      setLastValidValue(val);\n      setValid(true);\n    } else {\n      setValid(false);\n    }\n\n    setValue(val);\n  };\n\n  return [{ value, lastValidValue, valid }, onChange] as const;\n}\n"]},"metadata":{},"sourceType":"module"}