{"ast":null,"code":"/*\n * Copyright 2020 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function elementIsOrContains(element, testElement) {\n  return element === testElement || element.contains(testElement);\n}\n/**\n * Throttle an event on an EventTarget by wrapping it in a\n * `requestAnimationFrame` call. Returns the event handler that was bound to\n * given eventName so you can clean up after yourself.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/scroll\n */\n\n/* istanbul ignore next */\n\nexport function throttleEvent(target, eventName, newEventName) {\n  var throttledFunc = throttleImpl(function (event) {\n    target.dispatchEvent(new CustomEvent(newEventName, event));\n  });\n  target.addEventListener(eventName, throttledFunc);\n  return throttledFunc;\n}\n/**\n * Throttle a callback by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n *\n * @see https://www.html5rocks.com/en/tutorials/speed/animations/\n */\n\nexport function throttleReactEventCallback(callback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var throttledFunc = throttleImpl(callback, function (event2) {\n    if (options.preventDefault) {\n      event2.preventDefault();\n    }\n  }, // prevent React from reclaiming the event object before we reference it\n  function (event2) {\n    return event2.persist();\n  });\n  return throttledFunc;\n}\n/**\n * Throttle a method by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexport function throttle(method) {\n  return throttleImpl(method);\n} // eslint-disable-next-line @typescript-eslint/ban-types\n\nfunction throttleImpl(onAnimationFrameRequested, onBeforeIsRunningCheck, onAfterIsRunningCheck) {\n  var isRunning = false;\n\n  var func = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    onBeforeIsRunningCheck === null || onBeforeIsRunningCheck === void 0 ? void 0 : onBeforeIsRunningCheck.apply(void 0, args);\n\n    if (isRunning) {\n      return;\n    }\n\n    isRunning = true;\n    onAfterIsRunningCheck === null || onAfterIsRunningCheck === void 0 ? void 0 : onAfterIsRunningCheck.apply(void 0, args);\n    requestAnimationFrame(function () {\n      onAnimationFrameRequested.apply(void 0, args);\n      isRunning = false;\n    });\n  };\n\n  return func;\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;AAgBA,OAAM,SAAUA,mBAAV,CAA8BC,OAA9B,EAAoDC,WAApD,EAA4E;EAC9E,OAAOD,OAAO,KAAKC,WAAZ,IAA2BD,OAAO,CAACE,QAAR,CAAiBD,WAAjB,CAAlC;AACH;AAED;;;;;;;;AAOA;;AACA,OAAM,SAAUE,aAAV,CAAwBC,MAAxB,EAA6CC,SAA7C,EAAgEC,YAAhE,EAAoF;EACtF,IAAMC,aAAa,GAAGC,YAAY,CAAC,UAACC,KAAD,EAAa;IAC5CL,MAAM,CAACM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBL,YAAhB,EAA8BG,KAA9B,CAArB;EACH,CAFiC,CAAlC;EAGAL,MAAM,CAACQ,gBAAP,CAAwBP,SAAxB,EAAmCE,aAAnC;EACA,OAAOA,aAAP;AACH;AAMD;;;;;;;AAMA,OAAM,SAAUM,0BAAV,CACFC,QADE,EAEFC,OAFE,EAEuC;EAAzC;IAAAA;EAAyC;;EAEzC,IAAMR,aAAa,GAAGC,YAAY,CAC9BM,QAD8B,EAE9B,UAACE,MAAD,EAAU;IACN,IAAID,OAAO,CAACE,cAAZ,EAA4B;MACxBD,MAAM,CAACC,cAAP;IACH;EACJ,CAN6B,EAO9B;EACA,UAACD,MAAD,EAAU;IAAK,aAAM,CAACE,OAAP;EAAgB,CARD,CAAlC;EAUA,OAAOX,aAAP;AACH;AAED;;;;AAIA;;AACA,OAAM,SAAUY,QAAV,CAAuCC,MAAvC,EAAgD;EAClD,OAAOZ,YAAY,CAACY,MAAD,CAAnB;AACH,C,CAED;;AACA,SAASZ,YAAT,CACIa,yBADJ,EAEIC,sBAFJ,EAGIC,qBAHJ,EAG6B;EAEzB,IAAIC,SAAS,GAAG,KAAhB;;EACA,IAAMC,IAAI,GAAG;IAAC;;SAAA,yCAAc;MAAdC;;;IACVJ,sBAAsB,SAAtB,0BAAsB,WAAtB,GAAsB,MAAtB,yBAAsB,MAAtB,CAAsB,MAAtB,EAA4BI,IAA5B;;IAEA,IAAIF,SAAJ,EAAe;MACX;IACH;;IACDA,SAAS,GAAG,IAAZ;IAEAD,qBAAqB,SAArB,yBAAqB,WAArB,GAAqB,MAArB,wBAAqB,MAArB,CAAqB,MAArB,EAA2BG,IAA3B;IAEAC,qBAAqB,CAAC;MAClBN,yBAAyB,MAAzB,CAAyB,MAAzB,EAA6BK,IAA7B;MACAF,SAAS,GAAG,KAAZ;IACH,CAHoB,CAArB;EAIH,CAdD;;EAeA,OAAOC,IAAP;AACH","names":["elementIsOrContains","element","testElement","contains","throttleEvent","target","eventName","newEventName","throttledFunc","throttleImpl","event","dispatchEvent","CustomEvent","addEventListener","throttleReactEventCallback","callback","options","event2","preventDefault","persist","throttle","method","onAnimationFrameRequested","onBeforeIsRunningCheck","onAfterIsRunningCheck","isRunning","func","args","requestAnimationFrame"],"sources":["/Users/seancoleman/Projects/kanji/node_modules/@blueprintjs/core/src/common/utils/domUtils.ts"],"sourcesContent":["/*\n * Copyright 2020 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function elementIsOrContains(element: HTMLElement, testElement: HTMLElement) {\n    return element === testElement || element.contains(testElement);\n}\n\n/**\n * Throttle an event on an EventTarget by wrapping it in a\n * `requestAnimationFrame` call. Returns the event handler that was bound to\n * given eventName so you can clean up after yourself.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/scroll\n */\n/* istanbul ignore next */\nexport function throttleEvent(target: EventTarget, eventName: string, newEventName: string) {\n    const throttledFunc = throttleImpl((event: Event) => {\n        target.dispatchEvent(new CustomEvent(newEventName, event));\n    });\n    target.addEventListener(eventName, throttledFunc);\n    return throttledFunc;\n}\n\nexport interface IThrottledReactEventOptions {\n    preventDefault?: boolean;\n}\n\n/**\n * Throttle a callback by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n *\n * @see https://www.html5rocks.com/en/tutorials/speed/animations/\n */\nexport function throttleReactEventCallback<E extends React.SyntheticEvent = React.SyntheticEvent>(\n    callback: (event: E, ...otherArgs: any[]) => any,\n    options: IThrottledReactEventOptions = {},\n) {\n    const throttledFunc = throttleImpl(\n        callback,\n        (event2: E) => {\n            if (options.preventDefault) {\n                event2.preventDefault();\n            }\n        },\n        // prevent React from reclaiming the event object before we reference it\n        (event2: E) => event2.persist(),\n    );\n    return throttledFunc;\n}\n\n/**\n * Throttle a method by wrapping it in a `requestAnimationFrame` call. Returns\n * the throttled function.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function throttle<T extends Function>(method: T): T {\n    return throttleImpl(method);\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction throttleImpl<T extends Function>(\n    onAnimationFrameRequested: T,\n    onBeforeIsRunningCheck?: T,\n    onAfterIsRunningCheck?: T,\n) {\n    let isRunning = false;\n    const func = (...args: any[]) => {\n        onBeforeIsRunningCheck?.(...args);\n\n        if (isRunning) {\n            return;\n        }\n        isRunning = true;\n\n        onAfterIsRunningCheck?.(...args);\n\n        requestAnimationFrame(() => {\n            onAnimationFrameRequested(...args);\n            isRunning = false;\n        });\n    };\n    return func as any as T;\n}\n"]},"metadata":{},"sourceType":"module"}